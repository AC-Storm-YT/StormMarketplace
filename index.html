<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Apps — Dark Marketplace</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0b0f14;
  --muted:#98a0aa;
  --accent: #7c5cff;
  --accent-2: #00e0b8;
  --card-shadow: 0 6px 20px rgba(2,6,23,0.7);
  --radius: 14px;
  color-scheme: dark;
}

html, body {
  height: 100%;
  margin: 0;
}

body {
  font-family:Inter,ui-sans-serif;
  color:#e6eef6;
  /* Removed the gradient background */
  position: relative;
  overflow-x: hidden;
}

/* Space background */
.space-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  overflow: hidden;
}

.stars {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.star {
  position: absolute;
  background-color: white;
  border-radius: 50%;
  animation: twinkle linear infinite;
}

@keyframes twinkle {
  0%, 100% { opacity: 0.2; }
  50% { opacity: 1; }
}

@keyframes moveStars {
  from { transform: translateY(0); }
  to { transform: translateY(-100vh); }
}

/* Nebula effect */
.nebula {
  position: absolute;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 20% 30%, rgba(124, 92, 255, 0.15) 0%, transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(0, 224, 184, 0.1) 0%, transparent 40%),
    radial-gradient(circle at 40% 80%, rgba(55, 65, 81, 0.1) 0%, transparent 40%);
  animation: nebulaPulse 30s infinite alternate;
}

@keyframes nebulaPulse {
  0% { opacity: 0.3; }
  100% { opacity: 0.7; }
}

/* Content styling adjustments */
.container {
  position: relative;
  z-index: 1;
}

a{color:inherit;text-decoration:none}
header{display:flex;align-items:center;justify-content:space-between;padding:22px 28px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#5be6c4);display:flex;align-items:center;justify-content:center;}
h1{font-size:18px;margin:0;font-weight:700}
p.lead{margin:0;color:var(--muted);font-size:13px}

.container{
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  max-width:1200px;
  margin:0 auto;
  padding:18px;
}

main {
  flex: 1; /* takes remaining space so footer stays at bottom */
}

#modalContent {
  background: rgba(255,255,255,0.03);
  border-radius: 18px;
  box-shadow: var(--card-shadow);
  max-width: 600px;       /* limit max width */
  width: auto;             /* shrink to content */
  max-height: 90%;         /* still limit max height */
  padding: 20px 24px;
  position: relative;
  animation: pop .25s ease-out;
  backdrop-filter: blur(10px);
  overflow-y: auto;        /* scroll only if content exceeds max-height */
}



.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:18px;margin-top:22px}
.card{background:rgba(255,255,255,0.02);border-radius:var(--radius);padding:16px;box-shadow:var(--card-shadow);cursor:pointer;transition:transform .2s;display:flex;flex-direction:column;backdrop-filter: blur(10px);}
.card:hover{transform:translateY(-6px)}
.thumb{height:160px;border-radius:12px;overflow:hidden;background:#0f1720;display:flex;align-items:center;justify-content:center}
.thumb img{width:100%;height:100%;object-fit:cover}
.title{font-weight:700;margin-top:8px}
.desc{font-size:13px;color:var(--muted)}
.badge{margin-top:6px;display:inline-block;font-size:12px;padding:6px 8px;border-radius:8px;background:rgba(255,255,255,0.05)}
.btn{background:linear-gradient(90deg,var(--accent),#5be6c4);color:#05121a;padding:9px 14px;border-radius:12px;font-weight:600;cursor:pointer;border:0;margin-top:10px}

/* Footer */
footer {
  background-color: rgba(0,0,0,0.2);
  margin-top:0;
  color: var(--muted);
  font-size:13px;
  text-align:center;
  padding:18px;
  backdrop-filter: blur(5px);
}

/* Modal */
#modalOverlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.75);display:none;align-items:center;justify-content:center;z-index:1000}
#modalContent {
  background: rgba(255,255,255,0.03);
  border-radius: 18px;
  box-shadow: var(--card-shadow);
  max-width: 600px;       /* limit max width */
  width: auto;             /* shrink to content */
  max-height: 90%;         /* still limit max height */
  padding: 20px 24px;
  position: relative;
  animation: pop .25s ease-out;
  backdrop-filter: blur(10px);
  overflow-y: auto;        /* scroll only if content exceeds max-height */
}
.modal-grid{display:grid;grid-template-columns:400px 1fr;gap:28px}
@media(max-width:900px){.modal-grid{grid-template-columns:1fr}}
.big-thumb {
  width: 100%;               /* fill modal width */
  max-width: 400px;          /* optional max size */
  height: auto;              /* let it scale with content */
  aspect-ratio: 1 / 1;       /* maintain square ratio */
  border-radius: 12px;
  overflow: hidden;
  background: #0f1720;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 16px auto;  /* center horizontally */
}

.big-thumb img {
  width: 100%;
  height: 100%;
  object-fit: contain;        /* keep full image visible */
}

.pill{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.08);font-size:13px;margin-right:6px}
.closeBtn{position:absolute;top:12px;right:12px;background:none;border:none;color:#fff;font-size:28px;cursor:pointer}
@keyframes pop{from{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}

.pill.price-free {
  background: rgba(0, 255, 0, 0.15);
  color: #0f0;
}

.pill.price-paid {
  background: rgba(255, 215, 0, 0.15);
  color: #ff0;
}
</style>
</head>
<body>
  <!-- Space background -->
  <div class="space-background">
    <div class="nebula"></div>
    <div class="stars" id="starsLayer1"></div>
    <div class="stars" id="starsLayer2"></div>
    <div class="stars" id="starsLayer3"></div>
  </div>

  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">
          <img src="https://raw.githubusercontent.com/AC-Storm-YT/StormMarketplace/refs/heads/main/shop2.svg" alt="Storm Marketplace Logo" width="40" height="40" />
        </div>
        <div>
          <h1>Storm Marketplace</h1>
          <p class="lead">Discover. Download. Enjoy.</p>
        </div>
      </div>
    </header>

    <main>
      <div id="appsGrid" class="grid"></div>
    </main>

    <footer>
      © 2025 Storm Marketplace • All rights reserved
    </footer>
  </div>

  <!-- Modal -->
  <div id="modalOverlay">
    <div id="modalContent"></div>
  </div>

  <script>
    // Create stars for the background
    function createStars() {
      const layers = [
        { id: 'starsLayer1', count: 100, size: 1, speed: 0.2, opacity: 0.5 },
        { id: 'starsLayer2', count: 200, size: 0.5, speed: 0.5, opacity: 0.7 },
        { id: 'starsLayer3', count: 400, size: 0.25, speed: 1, opacity: 0.9 }
      ];
      
      layers.forEach(layer => {
        const container = document.getElementById(layer.id);
        container.style.animation = `moveStars ${100/layer.speed}s linear infinite`;
        
        for (let i = 0; i < layer.count; i++) {
          const star = document.createElement('div');
          star.className = 'star';
          
          // Random position
          const x = Math.random() * 100;
          const y = Math.random() * 100;
          
          // Random animation duration for twinkling
          const duration = 1 + Math.random() * 5;
          
          star.style.left = `${x}%`;
          star.style.top = `${y}%`;
          star.style.width = `${layer.size}px`;
          star.style.height = `${layer.size}px`;
          star.style.opacity = Math.random() * 0.5 + 0.5;
          star.style.animationDuration = `${duration}s`;
          star.style.animationDelay = `${Math.random() * 5}s`;
          
          container.appendChild(star);
        }
      });
    }

    // Initialize the stars
    createStars();

    const appsData = [
      {
        id: 'quester-launcher',
        name: 'Quester Launcher',
        short: 'A better launcher for your games.',
        description: 'Quester Launcher was designed to keep your desktop organized, eliminating the clutter of scattered shortcuts.',
        thumb: 'https://raw.githubusercontent.com/AC-Storm-YT/QuesterLauncher/refs/heads/main/icon.svg',
        versionUrl: 'https://raw.githubusercontent.com/AC-Storm-YT/QuesterLauncher/refs/heads/main/version.txt',
        size: '9.07 MB',
        price: 'FREE',
        download: 'https://www.dropbox.com/scl/fi/e6emc8zbfgdjd96gpsnmd/Quester_Launcher.zip?rlkey=hb1a6v4mdtp3dqto17d0tgsb2&st=qu53sk2c&dl=1',
        languages: ['English', 'Français'] 
      }
    ];

    const appsGrid = document.getElementById('appsGrid');
    const modalOverlay = document.getElementById('modalOverlay');
    const modalContent = document.getElementById('modalContent');

    function renderCard(app){
      const card = document.createElement('div');
      card.className = 'card';
      card.onclick = ()=>showModal(app);

      const thumb = document.createElement('div');
      thumb.className = 'thumb';
      const img = document.createElement('img');
      img.src = app.thumb;
      img.alt = app.name;
      thumb.appendChild(img);
      card.appendChild(thumb);

      const title = document.createElement('div');
      title.className = 'title';
      title.textContent = app.name;
      card.appendChild(title);

      const desc = document.createElement('div');
      desc.className = 'desc';
      desc.textContent = app.short;
      card.appendChild(desc);

      const badge = document.createElement('div');
      badge.className = 'badge';
      badge.textContent = 'Loading version...';
      card.appendChild(badge);

      if(app.version){
        badge.textContent = 'v' + app.version;
      } else if(app.versionUrl){
        fetch(app.versionUrl).then(r=>r.text()).then(txt=>{
          badge.textContent = 'v' + txt.trim();
        }).catch(()=>{
          badge.textContent = 'v?';
        });
      }

      return card;
    }

function showModal(app){
  modalContent.innerHTML = '';

  const closeBtn = document.createElement('button');
  closeBtn.className = 'closeBtn';
  closeBtn.innerHTML = '&times;';
  closeBtn.onclick = closeModal;
  modalContent.appendChild(closeBtn);

  const container = document.createElement('div');
  container.style.display = 'flex';
  container.style.flexDirection = 'column';
  container.style.gap = '16px';

  // Image at top
  const big = document.createElement('div');
  big.className = 'big-thumb';
  const img = document.createElement('img');
  img.src = app.thumb;
  img.alt = app.name;
  big.appendChild(img);
  big.style.margin = '0 auto';
  container.appendChild(big);

  // Text info
  const textWrapper = document.createElement('div');
  textWrapper.style.display = 'flex';
  textWrapper.style.flexDirection = 'column';
  textWrapper.style.gap = '8px';

  const title = document.createElement('h2');
  title.textContent = app.name;
  textWrapper.appendChild(title);

  const desc = document.createElement('p');
  desc.textContent = app.description;
  textWrapper.appendChild(desc);

  const info = document.createElement('div');
  info.style.display = 'flex';
  info.style.flexWrap = 'wrap';
  info.style.gap = '6px';

  if(app.version){
    info.appendChild(makePill('v'+app.version));
  } else if(app.versionUrl){
    const pill = makePill('v...');
    fetch(app.versionUrl).then(r=>r.text()).then(txt=>{
      pill.textContent = 'v' + txt.trim();
    }).catch(()=>{pill.textContent='v?'});
    info.appendChild(pill);
  }

  if(app.size){
    info.appendChild(makePill(app.size));
  }

  if(app.price){
    const pricePill = makePill(app.price);
    pricePill.classList.add(app.price.toUpperCase() === 'FREE' ? 'price-free' : 'price-paid');
    info.appendChild(pricePill);
  }

  textWrapper.appendChild(info);
  container.appendChild(textWrapper);

  // Bottom row: languages left, download right
  const bottomRow = document.createElement('div');
  bottomRow.style.display = 'flex';
  bottomRow.style.justifyContent = 'space-between';
  bottomRow.style.alignItems = 'center';

  // Languages text (bottom-left)
  const langText = document.createElement('span');
  langText.style.fontSize = '13px';
  langText.style.color = 'var(--muted)';
  langText.textContent = app.languages ? `Languages: ${app.languages.join(', ')}` : '';
  bottomRow.appendChild(langText);

  // Download button (bottom-right)
  const btn = document.createElement('button');
  btn.className = 'btn';
  btn.textContent = 'Download';
  btn.onclick = ()=>window.open(app.download,'_blank');
  bottomRow.appendChild(btn);

  container.appendChild(bottomRow);
  modalContent.appendChild(container);

  modalOverlay.style.display = 'flex';
}




    function closeModal(){
      modalOverlay.style.display = 'none';
    }

    function makePill(text){
      const span = document.createElement('span');
      span.className = 'pill';
      span.textContent = text;
      return span;
    }

    appsData.forEach(app=>appsGrid.appendChild(renderCard(app)));
  </script>
</body>
</html>